<<<<<<< HEAD
﻿using System;
=======
﻿#region File Description
// ButtonEvents.cs
#endregion

#region Using Statements
using System;
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;
<<<<<<< HEAD
=======
using Quarter3Project.EventManagers;
#endregion
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619

namespace Quarter3Project
{
    public class ButtonEvents
    {
<<<<<<< HEAD
        Game1 myGame;
        FileStream fs;

        public ButtonEvents(Game1 G)
        {
            myGame = G;
        }

=======

        #region Fields

        Game1 myGame;
        GlobalEvents gE;
        FileStream fs;

        #endregion

        #region Initialization

        public ButtonEvents(Game1 G)
        {
            myGame = G;
            gE = new GlobalEvents(G);
        }

        #endregion

        #region Methods

        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void setMenu()
        {
            myGame.SetCurrentLevel(GameLevels.GameLevels.MENU);
        }

<<<<<<< HEAD
=======
        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void CreateNew()
        {
            myGame.SetCurrentLevel(GameLevels.GameLevels.CREATE);
        }

<<<<<<< HEAD
        public void showPop(int id)
        {
            myGame.showPop(id); 
        }

        public void exitToMenu()
        {
            saveGame();
            myGame.SetCurrentLevel(GameLevels.GameLevels.MENU);
        }

=======
        /// <summary>
        /// 
        /// </summary>
        public void exitToMenu()
        {
            saveGame();
            for (int i = 0; i < myGame.popManager.popList.Count; i++)
            {
                if (myGame.popManager.popList[i].getVis)
                {
                    gE.closePop2(myGame.popManager.popList[i].getID);
                }
            }
                myGame.SetCurrentLevel(GameLevels.GameLevels.MENU);
        }

        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void saveGame()
        {
            if (!Directory.Exists(@"Save"))
            {
                Directory.CreateDirectory(@"Save");
            }

            fs = new FileStream(@"Save/Save.txt", FileMode.OpenOrCreate, FileAccess.Write);
            fs.Close();
            fs = new FileStream(@"Save/Save.txt", FileMode.Truncate, FileAccess.Write);
            fs.Close();
            StreamWriter sw = new StreamWriter(@"Save/Save.txt", true, Encoding.ASCII);
            switch (myGame.gameManager.classType)
            {
                case 100:
<<<<<<< HEAD
                    sw.WriteLine(1);
                    break;
                case 200:
                    sw.WriteLine(2);
                    break;
                case 300:
                    sw.WriteLine(3);
                    break;
                default:
                    sw.WriteLine(1);
                    break;
            }
            sw.WriteLine(myGame.gameManager.player.getPos().X);
            sw.WriteLine(myGame.gameManager.player.getPos().Y);
             
            sw.Close();
            closePop();
        }

=======
                    sw.WriteLine(100);
                    break;
                case 200:
                    sw.WriteLine(200);
                    break;
                case 300:
                    sw.WriteLine(300);
                    break;
            }
            sw.WriteLine(myGame.gameManager.tests[0].getPos().X);
            sw.WriteLine(myGame.gameManager.tests[0].getPos().Y);
             
            sw.Close();
        }

        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void loadGame()
        {
            if (File.Exists(@"Save/Save.txt"))
            {
                StreamReader sr = new StreamReader(@"Save/Save.txt");
                myGame.gameManager.classType = Int32.Parse(sr.ReadLine());
                myGame.gameManager.LoadContent2();
                sr.Close();
            }
        }

<<<<<<< HEAD
=======
        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void saveNewChr2()
        {
            myGame.showPop(2001); //Confirm Character Creation
        }

<<<<<<< HEAD
=======
        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void StartGame()
        {
            if (File.Exists(@"Save/Save.txt"))
            {
                loadGame();
                myGame.SetCurrentLevel(GameLevels.GameLevels.GAME);
            }
            else
            {
                myGame.showPop(2003); //Notifies no game saved
            }
        }

<<<<<<< HEAD
=======
        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void saveNewChr()
        {
            if (!Directory.Exists(@"Save"))
            {
                Directory.CreateDirectory(@"Save");
            }

            fs = new FileStream(@"Save/Save.txt", FileMode.OpenOrCreate, FileAccess.Write);
            fs.Close();
            fs = new FileStream(@"Save/Save.txt", FileMode.Truncate, FileAccess.Write);
            fs.Close();
            StreamWriter sw = new StreamWriter(@"Save/Save.txt", true, Encoding.ASCII);
            for (int i = 0; i < myGame.createManager.chrSelection.Count; i++)
            {
                switch (myGame.createManager.chrSelection[i].visible)
                {
                    case true:
                        switch (myGame.createManager.chrSelection[i].id)
                        {
                            case 100:
                                sw.WriteLine(100);
                                break;
                            case 200:
                                sw.WriteLine(200);
                                break;
                            case 300:
                                sw.WriteLine(300);
                                break;
<<<<<<< HEAD
                            default:
                                sw.WriteLine(100);
                                break;
=======
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
                        }
                        break;
                }
            }
            sw.Close();
<<<<<<< HEAD
            closePop();
            myGame.SetCurrentLevel(GameLevels.GameLevels.MENU);
        }

=======
            gE.closePop(2001);
            myGame.SetCurrentLevel(GameLevels.GameLevels.MENU);
        }

        /// <summary>
        /// 
        /// </summary>
>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
        public void Quit()
        {
            myGame.showPop(2000); //Confirms quit game
        }

<<<<<<< HEAD
        public void closePop()
        {
            for (int i = 0; i < myGame.popManager.popList.Count; i++)
            {
                if (myGame.popManager.popList[i].getVis == true)
                {
                    myGame.popManager.popList[i] = new ItemData.pop(myGame.popManager.popList[i].getBGTex, myGame.popManager.popList[i].getBDTex, myGame.popManager.popList[i].getPos, myGame.popManager.popList[i].getSize, myGame.popManager.popList[i].getBoxType, myGame.popManager.popList[i].getText, false, myGame.popManager.popList[i].getHoverState, myGame.popManager.popList[i].getPrevHoverState, myGame.popManager.popList[i].getID);

                    myGame.popManager.prevIDN = myGame.popManager.idn;
                    myGame.popManager.idn = 0;
                }
            }
        }

        public void exitGame()
        {
            myGame.Exit();
        }
=======
        #endregion

>>>>>>> 0309698f8bf7a8d48407255777936f99f34d0619
    }
}
